import React, { useState, useMemo } from 'react';
import { Car, MapPin, Star, Search, Utensils, Coffee, Info, Trees, Pizza, Flame, Store, Navigation, Beer, Wine } from 'lucide-react';

// å»ºç«‹ Icon å°æ‡‰è¡¨ï¼Œæ–¹ä¾¿å¾ JSON çš„å­—ä¸²è®€å–åœ–ç¤º
const IconMap = {
  Flame, Star, Utensils, Coffee, Trees, Pizza, Beer, Wine
};

// å®Œæ•´æ¨¡æ“¬é¤å»³è³‡æ–™åº« (åŒ…å« Drive-friendly èˆ‡ High Street)
// è¨»ï¼šé€™ä»½è³‡æ–™å·²å®Œå…¨æ ¼å¼åŒ–ç‚º JSON ç›¸å®¹çµæ§‹ã€‚æ—¥å¾Œåœ¨çœŸå¯¦å°ˆæ¡ˆä¸­å¯ç›´æ¥åˆªé™¤æ­¤é™£åˆ—ï¼Œæ”¹ç”¨ fetch('restaurants.json')
const restaurants = [
  // ================= ğŸš— DRIVE-FRIENDLY (æ–¹ä¾¿æ³Šè»Š) =================
  {
    id: 1, name: "Hickory's Smokehouse", locationType: "Drive-friendly", category: "ç¾å¼é¢¨å‘³", type: "å¾·å·ç…™ç‡» BBQ",
    description: "ä¸»æ‰“æ­£å®—ç¾åœ‹å¾·å·æ…¢ç«ç…™ç‡»çƒ¤è‚‰ã€‚å¤šæ•¸åˆ†åº—ç”±å¤§å‹é„‰æ‘é…’é¤¨æ”¹å»ºï¼Œæ“æœ‰è¶…å¤§å…è²»åœè»Šå ´åŠæˆ¶å¤–å…’ç«¥éŠæ¨‚å€ã€‚",
    parkingRating: 5, foodRating: 4.8, tags: ["å…è²»æ³Šè»Š", "å…’ç«¥å‹å–„", "éƒŠå€é¦–é¸"],
    image: "https://images.unsplash.com/photo-1529193591184-b1d58069ecdd?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", icon: "Flame"
  },
  {
    id: 2, name: "Miller & Carter", locationType: "Drive-friendly", category: "é«˜ç´šé¤é£²", type: "é«˜ç´šç‰›æ’é¤¨",
    description: "ä»¥å„ªè³ªç†Ÿæˆç‰›æ’èåã€‚å¤šæ•¸ç”±èˆŠå¼å¤§å‹ Pub æ”¹å»ºï¼Œä½æ–¼å¸‚éƒŠä¸¦é™„è¨­å»£é—Šçš„å°ˆå±¬åœè»Šå ´ï¼Œé©åˆç´„æœƒæˆ–æ…¶ç¥ã€‚",
    parkingRating: 4, foodRating: 4.7, tags: ["å°ˆå±¬è»Šä½", "é«˜ç´šé¤é£²", "æ°£æ°›ä½³"],
    image: "https://images.unsplash.com/photo-1594041680534-e8c8cdebd659?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", icon: "Star"
  },
  {
    id: 3, name: "Toby Carvery", locationType: "Drive-friendly", category: "å‚³çµ±çƒ¤è‚‰", type: "è‡ªåŠ©è‹±å¼çƒ¤è‚‰",
    description: "è™Ÿç¨±ã€Œçƒ¤è‚‰ä¹‹å®¶ã€ï¼Œæä¾›å…¨æ—¥è‹±å¼çƒ¤è‚‰è‡ªåŠ©é¤ã€‚çµ•å¤§å¤šæ•¸åˆ†åº—é™„è¨­å¤§å‹å…è²»åœè»Šå ´ï¼Œé€±æ—¥èšé¤ç¶“å…¸ã€‚",
    parkingRating: 5, foodRating: 4.0, tags: ["è‡ªåŠ©çƒ¤è‚‰", "ç´„å…‹éƒ¡å¸ƒä¸", "å®¶åº­ç¶“å…¸"],
    image: "https://images.unsplash.com/photo-1514516874382-f4726b230f6a?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", icon: "Utensils"
  },
  {
    id: 4, name: "Harvester", locationType: "Drive-friendly", category: "å®¶åº­é¤å»³", type: "çƒ¤é›èˆ‡æ²™å¾‹å§",
    description: "ä»¥ç„¡é™é‡ä¾›æ‡‰çš„å¥åº·æ²™å¾‹å§å’Œçƒ¤é›èåã€‚æ¥µå—å¸¶å°å­©çš„å®¶åº­æ­¡è¿ï¼Œåˆ†åº—éä½ˆå…¨è‹±ä¸”å¹¾ä¹éƒ½æœ‰å°ˆå±¬åœè»Šå ´ã€‚",
    parkingRating: 5, foodRating: 3.9, tags: ["å…è²»æ²™å¾‹å§", "å…’ç«¥èœå–®", "å¥åº·é¸æ“‡"],
    image: "https://images.unsplash.com/photo-1546069901-ba9599a7e63c?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", icon: "Utensils"
  },
  {
    id: 5, name: "Vintage Inns", locationType: "Drive-friendly", category: "è‹±å¼é…’é¤¨", type: "é«˜ç´šé„‰æ‘é…’é¤¨",
    description: "é¢¨æ™¯å„ªç¾çš„å‚³çµ±é„‰æ‘é…’é¤¨ï¼Œé€šå¸¸é…æœ‰èŒ…è‰å±‹é ‚æˆ–ç«çˆã€‚ä½æ–¼å¸‚éƒŠæˆ–é„‰é–“å°è·¯ï¼Œè¨­æœ‰å¤§å‹åœè»Šå ´ï¼Œé©åˆé€±æœ«è‡ªé§•éŠã€‚",
    parkingRating: 4, foodRating: 4.3, tags: ["é„‰æ‘é¢¨æ™¯", "å¯µç‰©å‹å–„", "çƒ¤è‚‰"],
    image: "https://images.unsplash.com/photo-1514933651103-005eec06c04b?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", icon: "Trees"
  },
  {
    id: 6, name: "OK Diner", locationType: "Drive-friendly", category: "ç¾å¼é¢¨å‘³", type: "å¾©å¤å…¬è·¯é¤é¤¨",
    description: "1950å¹´ä»£ç¾åœ‹å…¬è·¯é¤é¤¨é¢¨æ ¼ã€‚ä½æ–¼è‹±åœ‹ä¸»è¦ A-road å¹¹é“æ—ï¼Œé–€å£å°±æ˜¯åœè»Šå ´ï¼Œé•·é€”é§•é§›çš„æœ€ä½³ä¸­é€”ç«™ã€‚",
    parkingRating: 5, foodRating: 4.2, tags: ["å…¬è·¯ç›´é”", "å…¨å¤©å€™æ—©é¤", "ç„¡é™æ·»é£²"],
    image: "https://images.unsplash.com/photo-1555396273-367ea4eb4db5?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", icon: "Coffee"
  },
  {
    id: 7, name: "Pizza Hut (Retail Parks)", locationType: "Drive-friendly", category: "å®¶åº­é¤å»³", type: "è–„é¤…è‡ªåŠ©é¤",
    description: "ä½æ–¼è³¼ç‰©åœ’å€çš„å¯¦é«”é¤å»³åˆ†åº—ã€‚æ“æœ‰ç¶“å…¸çš„ Pizza è‡ªåŠ©é¤èˆ‡é›ªç³•æ©Ÿï¼Œé–€å£é€šå¸¸å°±æ˜¯è¶…å¤§å…è²»åœè»Šå ´ã€‚",
    parkingRating: 5, foodRating: 3.8, tags: ["Pizza", "ç„¡é™é›ªç³•", "è³¼ç‰©åœ’å€"],
    image: "https://images.unsplash.com/photo-1513104890138-7c749659a591?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", icon: "Pizza"
  },
  {
    id: 14, name: "Beefeater", locationType: "Drive-friendly", category: "è‹±å¼é…’é¤¨", type: "ç‰›æ’é…’é¤¨",
    description: "ç¶“å¸¸èˆ‡ Premier Inn é…’åº—ç›¸é€£ï¼Œæä¾›ç¶“å…¸çš„è‹±å¼ç‰›æ’èˆ‡é…’å§ç¾é£Ÿã€‚åœ°é»å¤šä½æ–¼å…¬è·¯äº¤åŒ¯è™•æˆ–å¸‚éƒŠï¼Œæ“æœ‰æ¥µå…¶å¯¬æ•çš„åœè»Šå ´ã€‚",
    parkingRating: 5, foodRating: 3.8, tags: ["å…¬è·¯äº¤ç•Œ", "Premier Inn", "ç‰›æ’"],
    image: "https://images.unsplash.com/photo-1600891964092-4316c288032e?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", icon: "Star"
  },
  {
    id: 15, name: "Hungry Horse", locationType: "Drive-friendly", category: "è‹±å¼é…’é¤¨", type: "å¹³åƒ¹é‹å‹•é…’é¤¨",
    description: "ä»¥æ¥µå…·æ€§åƒ¹æ¯”çš„å¤§ä»½é‡ç¾é£Ÿèåã€‚å¤šä½æ–¼å¸‚éƒŠç¤¾å€æˆ–å¹¹é“æ—ï¼Œæ“æœ‰å¯¬æ•çš„å°ˆå±¬åœè»Šå ´ï¼Œæ°£æ°›è¼•é¬†ç†±é¬§ã€‚",
    parkingRating: 4, foodRating: 3.5, tags: ["å¤§ä»½é‡", "æ€§åƒ¹æ¯”é«˜", "é«”è‚²ç›´æ’­"],
    image: "https://images.unsplash.com/photo-1572715376701-98568319fd0b?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", icon: "Beer"
  },
  {
    id: 16, name: "Farmhouse Inns", locationType: "Drive-friendly", category: "å‚³çµ±çƒ¤è‚‰", type: "çƒ¤è‚‰èˆ‡å·¨å‹è›‹ç³•",
    description: "ä¸»æ‰“å‚³çµ±è‹±å¼çƒ¤è‚‰åŠè¶…å·¨å‹æ‰‹å·¥è›‹ç³• (Cakeaway)ã€‚é€šå¸¸è¨­æœ‰å¤§å‹å…’ç«¥å®¤å…§éŠæ¨‚å€ï¼Œé€±æœ«å…¬è·¯æ—…è¡Œå®Œç¾ä¸­é€”ç«™ã€‚",
    parkingRating: 5, foodRating: 4.1, tags: ["Carvery", "å·¨å‹è›‹ç³•", "å®¤å…§éŠæ¨‚å€"],
    image: "https://images.unsplash.com/photo-1544025162-d76694265947?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", icon: "Trees"
  },
  {
    id: 17, name: "Frankie & Benny's", locationType: "Drive-friendly", category: "å®¶åº­é¤å»³", type: "ç¾æ„èåˆé¤å»³",
    description: "å¸¸è¦‹æ–¼å„å¤§ Retail Park åŠé›»å½±é™¢æ—ï¼Œæä¾›è–„é¤…ã€æ„ç²‰åŠæ¼¢å ¡ï¼Œåƒå–ç©æ¨‚åœè»Šä¸€æ¬¡æå®šã€‚",
    parkingRating: 5, foodRating: 3.7, tags: ["Retail Park", "ç¾æ„èåˆ", "çœ‹é›»å½±å¿…åƒ"],
    image: "https://images.unsplash.com/photo-1604382354936-07c5d9983bd3?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", icon: "Pizza"
  },
  
  // ================= ğŸ›ï¸ HIGH STREET (ç¹è¯å¤§è¡—) =================
  {
    id: 8, name: "Wagamama", locationType: "High Street", category: "äºæ´²é¢¨å‘³", type: "æ—¥å¼æ‹‰éºµ/å’–å“©",
    description: "è‹±åœ‹æœ€å—æ­¡è¿çš„æ—¥å¼é€£é–é¤å»³ã€‚ä¸»æ‰“æ—¥å¼æ‹‰éºµã€éµæ¿ç‡’åŠå’–å“©è±¬æ’é£¯ã€‚é•·æ¡Œå…±é¤æ–‡åŒ–ï¼Œå¤§å¤šä½æ–¼å¸‚ä¸­å¿ƒé»ƒé‡‘åœ°æ®µã€‚",
    parkingRating: 1, foodRating: 4.5, tags: ["æ—¥å¼æ–™ç†", "Katsu Curry", "å¸‚ä¸­å¿ƒ"],
    image: "https://images.unsplash.com/photo-1552611052-33e04de081de?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", icon: "Utensils"
  },
  {
    id: 9, name: "Pizza Express", locationType: "High Street", category: "æ„å¼é¢¨å‘³", type: "å‚³çµ±è–„é¤…",
    description: "è‹±åœ‹é«˜ç´šè¡—é ­è–„é¤…çš„ä»£åè©ã€‚è£ä¿®å„ªé›…ï¼Œæä¾›æ­£å®—æ„å¤§åˆ©ç¾…é¦¬è–„é¤… (Romana) åŠè‘—åçš„éºµåŒ…çƒ (Dough Balls)ã€‚",
    parkingRating: 1, foodRating: 4.3, tags: ["é«˜ç´šè–„é¤…", "Dough Balls", "ç´„æœƒä½³é¸"],
    image: "https://images.unsplash.com/photo-1574071318508-1cdbab80d002?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", icon: "Pizza"
  },
  {
    id: 10, name: "Nando's (High Street)", locationType: "High Street", category: "å¤šåœ‹é¢¨å‘³", type: "è‘¡å¼çƒ¤é›",
    description: "è‹±åœ‹å¹´è¼•äººæœ€æ„›çš„ PERi-PERi çƒ¤é›åº—ã€‚High Street åˆ†åº—é€šå¸¸äººæ°£æ¥µæ—ºï¼Œéœ€æ­¥è¡Œå‰å¾€æˆ–åœåœ¨é™„è¿‘çš„æ”¶è²»åœè»Šå ´ã€‚",
    parkingRating: 2, foodRating: 4.4, tags: ["PERi-PERi", "å¹´è¼•äººæœ€æ„›", "è¡Œè¡—å¿…é£Ÿ"],
    image: "https://images.unsplash.com/photo-1604908176997-125f25cc6f3d?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", icon: "Flame"
  },
  {
    id: 11, name: "Franco Manca", locationType: "High Street", category: "æ„å¼é¢¨å‘³", type: "æ‹¿å¡é‡Œé…¸ç¨®è–„é¤…",
    description: "ä¸»æ‰“ç™¼é…µ 24 å°æ™‚çš„æ­£å®—æ‹¿å¡é‡Œé…¸ç¨®è–„é¤… (Sourdough Pizza)ã€‚åƒ¹æ ¼è¦ªæ°‘ï¼Œå¤šä½æ–¼ç†±é¬§çš„é«˜è¡—æˆ–ç«è»Šç«™é™„è¿‘ã€‚",
    parkingRating: 1, foodRating: 4.6, tags: ["é…¸ç¨®è–„é¤…", "å¹³åƒ¹é«˜è³ª", "æ­£å®—æ‹¿å¡é‡Œ"],
    image: "https://images.unsplash.com/photo-1565299624946-b28f40a0ae38?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", icon: "Pizza"
  },
  {
    id: 12, name: "Dishoom", locationType: "High Street", category: "äºæ´²é¢¨å‘³", type: "å­Ÿè²·é¢¨å°åº¦èœ",
    description: "å‘èˆŠå­Ÿè²·çš„ä¼Šæœ—å’–å•¡é¤¨è‡´æ•¬çš„é«˜ç´šå°åº¦é¤å»³ã€‚è£ä¿®æ¥µå…·å¾©å¤æƒ…èª¿ï¼Œé»‘é”çˆ¾æ‰è±† (Black Daal) æ˜¯å¿…é»æ‹›ç‰Œï¼Œç¶“å¸¸å¤§æ’é•·é¾ã€‚",
    parkingRating: 1, foodRating: 4.8, tags: ["é«˜ç´šå°åº¦èœ", "Black Daal", "å¾©å¤è£æ½¢"],
    image: "https://images.unsplash.com/photo-1585937421612-70a008356fbe?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", icon: "Star"
  },
  {
    id: 13, name: "Zizzi", locationType: "High Street", category: "æ„å¼é¢¨å‘³", type: "æ„å¼ä¼‘é–’é¤å»³",
    description: "æä¾›è±å¯Œçš„æ„å¤§åˆ©éºµã€è–„é¤…åŠç”œå“ã€‚å…§éƒ¨è£æ½¢é€šå¸¸å……æ»¿è—è¡“æ„Ÿï¼Œè¨­æœ‰é–‹æ”¾å¼å»šæˆ¿ï¼Œæ˜¯é€›è¡—å¾Œå®¶åº­èšé¤çš„ç†±é–€é¸æ“‡ã€‚",
    parkingRating: 2, foodRating: 4.1, tags: ["æ„ç²‰", "ä¼‘é–’èšé¤", "å¤§è¡—ç†±é–€"],
    image: "https://images.unsplash.com/photo-1473093295043-cdd812d0e601?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", icon: "Utensils"
  },
  {
    id: 18, name: "Turtle Bay", locationType: "High Street", category: "å¤šåœ‹é¢¨å‘³", type: "åŠ å‹’æ¯”æµ·èœ",
    description: "ä»¥å……æ»¿æ´»åŠ›çš„åŠ å‹’æ¯”æµ·æ°£æ°›ã€çƒ¤é› (Jerk Chicken) å’Œ 2-for-1 é›å°¾é…’èåã€‚éå¸¸é©åˆé€±æœ«ç‹‚æ­¡ï¼Œé€šå¸¸ä½æ–¼å¸‚ä¸­å¿ƒã€‚",
    parkingRating: 1, foodRating: 4.4, tags: ["é›å°¾é…’", "åŠ å‹’æ¯”æµ·", "æ´¾å°æ°£æ°›"],
    image: "https://images.unsplash.com/photo-1514362545857-3bc16c4c7d1b?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", icon: "Flame"
  },
  {
    id: 19, name: "CÃ´te Brasserie", locationType: "High Street", category: "æ³•å¼é¢¨å‘³", type: "æ³•å¼å°é…’é¤¨",
    description: "æä¾›ç¶“å…¸å„ªé›…çš„æ³•åœ‹èœï¼Œå¦‚æ³•å¼çƒ¤é›å’Œç´…é…’ç‡‰ç‰›è‚‰ã€‚ç’°å¢ƒç²¾ç·»ï¼Œæ˜¯é«˜è¡—ä¸Šäº«ç”¨æ—©åˆé¤æˆ–æµªæ¼«æ™šé¤çš„ç†±é–€é¸æ“‡ã€‚",
    parkingRating: 1, foodRating: 4.6, tags: ["æ³•åœ‹èœ", "æ—©åˆé¤", "å„ªé›…ç’°å¢ƒ"],
    image: "https://images.unsplash.com/photo-1550966871-3ed3cdb5ed0c?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", icon: "Wine"
  },
  {
    id: 20, name: "Bill's", locationType: "High Street", category: "è‹±å¼ç¾ä»£", type: "å…¨æ—¥è‹±å¼é¤å»³",
    description: "è£æ½¢è‰²å½©ç¹½ç´›ä¸”å……æ»¿å¤è‘£æ“ºè¨­ã€‚æä¾›å¾è±ç››æ—©é¤åˆ°è±å¯Œæ™šé¤çš„ç¾ä»£è‹±å¼æ–™ç†ï¼Œæ˜¯é€›è¡—ç´¯äº†æ¥µä½³çš„ä¼‘æ¯ç«™ã€‚",
    parkingRating: 1, foodRating: 4.3, tags: ["å…¨æ—¥ä¾›é¤", "æ‰“å¡é¤å»³", "ç¾ä»£è‹±å¼"],
    image: "https://images.unsplash.com/photo-1511690656952-34342bb7c2f2?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", icon: "Coffee"
  },
  {
    id: 21, name: "Honest Burgers", locationType: "High Street", category: "ç¾å¼é¢¨å‘³", type: "æ‰‹å·¥æ¼¢å ¡",
    description: "ä»¥é«˜å“è³ªçš„è‹±åœ‹ç‰›è‚‰æ¼¢å ¡å’Œè‡ªå®¶è£½çš„è¿·è¿­é¦™è–¯æ¢ (Rosemary Chips) å¾æœé£Ÿå®¢ã€‚åº—é¢é€šå¸¸ä¸å¤§ä½†ç¸½æ˜¯å®¢æ»¿ã€‚",
    parkingRating: 1, foodRating: 4.5, tags: ["æ‰‹å·¥æ¼¢å ¡", "è¿·è¿­é¦™è–¯æ¢", "é«˜å“è³ªè‚‰é¡"],
    image: "https://images.unsplash.com/photo-1568901346375-23c9450c58cd?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", icon: "Utensils"
  }
];

export default function App() {
  const [searchTerm, setSearchTerm] = useState("");
  // é ‚å±¤ Filter ç‹€æ…‹ (Drive-friendly æˆ– High Street)
  const [activeLocationType, setActiveLocationType] = useState("Drive-friendly");
  // æ¬¡å±¤ Filter ç‹€æ…‹ (é£Ÿç‰©åˆ†é¡)
  const [activeCategory, setActiveCategory] = useState("å…¨éƒ¨");

  // ç•¶åˆ‡æ›é ‚å±¤åˆ†é¡æ™‚ï¼Œé‡ç½®æ¬¡å±¤åˆ†é¡
  const handleLocationTypeChange = (type) => {
    setActiveLocationType(type);
    setActiveCategory("å…¨éƒ¨");
    setSearchTerm("");
  };

  // æ ¹æ“šç•¶å‰é¸æ“‡çš„ã€Œé ‚å±¤åˆ†é¡ã€ä¾†å‹•æ…‹ç”Ÿæˆã€Œæ¬¡å±¤åˆ†é¡æ¸…å–®ã€
  const categories = useMemo(() => {
    const relevantRestaurants = restaurants.filter(r => r.locationType === activeLocationType);
    const uniqueCategories = new Set(relevantRestaurants.map(r => r.category));
    return ["å…¨éƒ¨", ...Array.from(uniqueCategories)];
  }, [activeLocationType]);

  // æœ€çµ‚é¡¯ç¤ºçš„é¤å»³åˆ—è¡¨
  const filteredRestaurants = restaurants.filter(r => {
    const matchesLocationType = r.locationType === activeLocationType;
    const matchesSearch = r.name.toLowerCase().includes(searchTerm.toLowerCase()) || 
                          r.type.toLowerCase().includes(searchTerm.toLowerCase()) ||
                          r.tags.some(tag => tag.toLowerCase().includes(searchTerm.toLowerCase()));
    const matchesCategory = activeCategory === "å…¨éƒ¨" || r.category === activeCategory;
    
    return matchesLocationType && matchesSearch && matchesCategory;
  });

  return (
    <div className="min-h-screen bg-gray-50 font-sans text-gray-800 pb-12">
      {/* å°èˆªæ¬„ */}
      <nav className="bg-white shadow-sm sticky top-0 z-50">
        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <div className="flex justify-between h-16 items-center">
            <div className="flex items-center gap-2 cursor-pointer group">
              <div className="bg-blue-600 p-2 rounded-lg text-white group-hover:bg-blue-700 transition-colors">
                <Navigation className="w-6 h-6" />
              </div>
              <span className="font-bold text-xl tracking-tight text-gray-900 hidden sm:block">UK Food Navigator</span>
            </div>
            <div className="flex space-x-4 sm:space-x-8">
              <a href="#" className="text-blue-600 font-medium border-b-2 border-blue-600 px-1 py-2 text-sm sm:text-base">æ‰¾é€£é–é¤å»³</a>
              <a href="#" className="text-gray-500 hover:text-gray-900 px-1 py-2 transition-colors text-sm sm:text-base hidden md:block">æˆ‘çš„æœ€æ„›</a>
            </div>
          </div>
        </div>
      </nav>

      {/* ================= é ‚å±¤åˆ‡æ›å™¨ (Highest Level Filter) ================= */}
      <div className="bg-white border-b border-gray-200 sticky top-16 z-40">
        <div className="max-w-3xl mx-auto px-4 py-4 sm:py-6">
          <div className="flex p-1 bg-gray-100 rounded-2xl shadow-inner relative">
            
            {/* ğŸš— Drive-friendly æŒ‰éˆ• */}
            <button
              onClick={() => handleLocationTypeChange("Drive-friendly")}
              className={`flex-1 flex flex-col sm:flex-row items-center justify-center gap-2 py-3 px-4 rounded-xl text-sm sm:text-base font-bold transition-all duration-300 z-10 ${
                activeLocationType === "Drive-friendly" 
                  ? "bg-white text-orange-600 shadow-md transform scale-[1.02]" 
                  : "text-gray-500 hover:text-gray-700 hover:bg-gray-200/50"
              }`}
            >
              <Car className={`w-5 h-5 sm:w-6 sm:h-6 ${activeLocationType === "Drive-friendly" ? "text-orange-500" : "text-gray-400"}`} />
              <span>æ–¹ä¾¿æ³Šè»Š <span className="hidden sm:inline">(Drive-friendly)</span></span>
            </button>
            
            {/* ğŸ›ï¸ High Street æŒ‰éˆ• */}
            <button
              onClick={() => handleLocationTypeChange("High Street")}
              className={`flex-1 flex flex-col sm:flex-row items-center justify-center gap-2 py-3 px-4 rounded-xl text-sm sm:text-base font-bold transition-all duration-300 z-10 ${
                activeLocationType === "High Street" 
                  ? "bg-white text-indigo-600 shadow-md transform scale-[1.02]" 
                  : "text-gray-500 hover:text-gray-700 hover:bg-gray-200/50"
              }`}
            >
              <Store className={`w-5 h-5 sm:w-6 sm:h-6 ${activeLocationType === "High Street" ? "text-indigo-500" : "text-gray-400"}`} />
              <span>ç¹è¯å¤§è¡— <span className="hidden sm:inline">(High Street)</span></span>
            </button>
          </div>
        </div>
      </div>

      {/* è‹±é›„å€å¡Š (Hero Section) - æ ¹æ“šé¸æ“‡æ”¹è®ŠèƒŒæ™¯èˆ‡æ–‡æ¡ˆ */}
      <div className={`text-white py-12 sm:py-16 relative overflow-hidden transition-colors duration-500 ${
        activeLocationType === "Drive-friendly" ? "bg-slate-900" : "bg-indigo-950"
      }`}>
        <div className="absolute inset-0 opacity-20 transition-opacity">
          <img 
            src={activeLocationType === "Drive-friendly" 
              ? "https://images.unsplash.com/photo-1449965408869-eaa3f722e40d?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80" 
              : "https://images.unsplash.com/photo-1513635269975-59663e0ac1ad?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80"} 
            alt="Background" 
            className="w-full h-full object-cover"
          />
        </div>
        <div className="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
          <h1 className="text-3xl sm:text-5xl font-extrabold tracking-tight mb-4">
            {activeLocationType === "Drive-friendly" ? (
              <>å…¨è‹± <span className="text-orange-500">æ³Šè»Šå‹å–„</span> é¤å»³å¤§å…¨</>
            ) : (
              <>è‹±åœ‹ <span className="text-indigo-400">ç†±é–€å¤§è¡—</span> é€£é–å“ç‰Œ</>
            )}
          </h1>
          <p className="mt-4 text-lg sm:text-xl text-gray-300 max-w-2xl mx-auto mb-8 px-4">
            {activeLocationType === "Drive-friendly" 
              ? "ç‚ºé§•é§›è€…è€Œè¨­ã€‚æ”¶éŒ„éƒŠå€ã€Retail Parkã€å…¬è·¯æ—æ“æœ‰ã€Œç„¡æ•µå¤§è»Šä½ã€çš„é€£é–é¤å»³ã€‚"
              : "è¡Œè¡—è¡€æ‹¼å¿…å‚™ã€‚æ”¶éŒ„è‹±åœ‹å„å¤§å¸‚ä¸­å¿ƒ High Street æœ€å—æ­¡è¿çš„æ—¥å¼ã€æ„å¼åŠå¤šåœ‹é€£é–ç¾é£Ÿã€‚"}
          </p>
          
          {/* æœå°‹åˆ— */}
          <div className={`max-w-xl mx-auto relative bg-white rounded-full flex items-center p-2 shadow-lg focus-within:ring-2 transition-all ${
            activeLocationType === "Drive-friendly" ? "ring-orange-500" : "ring-indigo-500"
          }`}>
            <Search className="w-6 h-6 text-gray-400 ml-3" />
            <input 
              type="text" 
              placeholder={activeLocationType === "Drive-friendly" ? "æœå°‹çƒ¤è‚‰, Pub, Hickory's..." : "æœå°‹æ‹‰éºµ, è–„é¤…, Wagamama..."} 
              className="w-full bg-transparent border-none focus:outline-none text-gray-800 px-4 py-2"
              value={searchTerm}
              onChange={(e) => setSearchTerm(e.target.value)}
            />
          </div>
        </div>
      </div>

      {/* ä¸»è¦å…§å®¹å€å¡Š */}
      <main className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        
        {/* æ¬¡å±¤éæ¿¾å™¨ (é£Ÿç‰©åˆ†é¡) */}
        <div className="flex flex-wrap gap-2 sm:gap-3 mb-8 justify-center">
          {categories.map(category => (
            <button
              key={category}
              onClick={() => setActiveCategory(category)}
              className={`px-4 py-2 rounded-full text-sm font-medium transition-all duration-200 ${
                activeCategory === category 
                  ? (activeLocationType === "Drive-friendly" ? "bg-orange-600 text-white shadow-md" : "bg-indigo-600 text-white shadow-md")
                  : "bg-white text-gray-600 border border-gray-200 hover:bg-gray-100 hover:border-gray-300"
              }`}
            >
              {category}
            </button>
          ))}
        </div>

        {/* ç‹€æ…‹åˆ—ï¼šé¡¯ç¤ºæ•¸é‡ */}
        <div className="mb-6 text-gray-500 text-sm font-medium flex items-center">
          <MapPin className="w-4 h-4 mr-1" />
          é¡¯ç¤º {filteredRestaurants.length} é–“ {activeLocationType === "Drive-friendly" ? "æ³Šè»Šå‹å–„" : "å¤§è¡—ç†±é–€"} é€£é–é¤å»³
        </div>

        {/* é¤å»³å¡ç‰‡ç¶²æ ¼ */}
        <div className="grid grid-cols-1 lg:grid-cols-2 gap-6 sm:gap-8">
          {filteredRestaurants.length > 0 ? (
            filteredRestaurants.map(restaurant => (
              <div key={restaurant.id} className="bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-xl transition-all duration-300 group flex flex-col sm:flex-row h-full">
                {/* åœ–ç‰‡å€å¡Š */}
                <div className="sm:w-2/5 h-48 sm:h-auto relative overflow-hidden bg-gray-200 shrink-0">
                  <img 
                    src={restaurant.image} 
                    alt={``}
                    className="w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"
                    onError={(e) => { e.target.src = 'https://via.placeholder.com/400x300?text=Image+Not+Found' }}
                  />
                  <div className={`absolute top-3 left-3 bg-white/95 backdrop-blur-sm px-3 py-1.5 rounded-lg text-xs font-bold flex items-center gap-1.5 shadow-sm border border-white/20 ${
                    activeLocationType === "Drive-friendly" ? "text-orange-700" : "text-indigo-700"
                  }`}>
                    {(() => {
                      const IconComponent = IconMap[restaurant.icon] || Utensils;
                      return <IconComponent className="w-4 h-4" />;
                    })()}
                    {restaurant.type}
                  </div>
                </div>
                
                {/* å…§å®¹å€å¡Š */}
                <div className="p-5 sm:p-6 sm:w-3/5 flex flex-col h-full justify-between">
                  <div>
                    <div className="flex justify-between items-start mb-1">
                      <h2 className={`text-xl sm:text-2xl font-bold text-gray-900 transition-colors line-clamp-1 ${
                        activeLocationType === "Drive-friendly" ? "group-hover:text-orange-600" : "group-hover:text-indigo-600"
                      }`}>
                        {restaurant.name}
                      </h2>
                    </div>
                    {/* åˆ†é¡å°æ¨™ */}
                    <p className={`text-xs font-semibold mb-3 ${
                      activeLocationType === "Drive-friendly" ? "text-orange-600" : "text-indigo-600"
                    }`}>
                      {restaurant.category}
                    </p>
                    
                    <p className="text-gray-600 text-sm mb-4 line-clamp-3 leading-relaxed">
                      {restaurant.description}
                    </p>
                    
                    {/* æ¨™ç±¤ */}
                    <div className="flex flex-wrap gap-1.5 mb-4 mt-auto">
                      {restaurant.tags.map(tag => (
                        <span key={tag} className="bg-gray-50 text-gray-600 border border-gray-200 text-xs px-2 py-1 rounded-md font-medium">
                          #{tag}
                        </span>
                      ))}
                    </div>
                  </div>

                  {/* è©•åˆ†èˆ‡è¡Œå‹•æŒ‰éˆ• */}
                  <div className="flex items-center justify-between pt-4 border-t border-gray-100 mt-auto">
                    <div className="flex gap-4">
                      {/* æ³Šè»Šè©•åˆ† (å¦‚æœæ˜¯å¤§è¡—é¤å»³ï¼Œé€šå¸¸åˆ†æ•¸å¾ˆä½ï¼Œé€™è£¡é¡¯ç¤ºç´…è‰²è­¦ç¤º) */}
                      <div className="flex flex-col">
                        <span className="text-gray-400 text-[10px] uppercase font-bold tracking-wider">æ³Šè»Š</span>
                        <div className="flex items-center">
                          <Car className={`w-4 h-4 mr-1 ${restaurant.parkingRating >= 4 ? "text-green-500" : "text-red-400"}`} />
                          <span className="font-bold text-gray-900 text-sm">{restaurant.parkingRating}</span>
                        </div>
                      </div>
                      <div className="flex flex-col border-l border-gray-100 pl-4">
                        <span className="text-gray-400 text-[10px] uppercase font-bold tracking-wider">é¤é£²</span>
                        <div className="flex items-center">
                          <Star className="w-4 h-4 text-yellow-400 mr-1" />
                          <span className="font-bold text-gray-900 text-sm">{restaurant.foodRating}</span>
                        </div>
                      </div>
                    </div>
                    <button className={`flex items-center justify-center font-medium px-4 py-2 rounded-xl transition-colors text-sm ${
                      activeLocationType === "Drive-friendly" 
                        ? "bg-orange-50 text-orange-600 hover:bg-orange-600 hover:text-white" 
                        : "bg-indigo-50 text-indigo-600 hover:bg-indigo-600 hover:text-white"
                    }`}>
                      æ‰¾åˆ†åº—
                    </button>
                  </div>
                </div>
              </div>
            ))
          ) : (
            <div className="col-span-full py-16 text-center text-gray-500 flex flex-col items-center bg-white rounded-2xl border border-dashed border-gray-300">
              <Info className="w-12 h-12 mb-4 text-gray-300" />
              <p className="text-lg font-medium text-gray-900">æ‰¾ä¸åˆ°ç¬¦åˆæ¢ä»¶çš„é¤å»³</p>
              <button 
                onClick={() => {setSearchTerm(""); setActiveCategory("å…¨éƒ¨");}}
                className="mt-6 bg-gray-900 text-white px-6 py-2 rounded-full font-medium hover:bg-gray-800 transition-colors"
              >
                é¡¯ç¤ºå…¨éƒ¨é¤å»³
              </button>
            </div>
          )}
        </div>
      </main>
    </div>
  );
}




